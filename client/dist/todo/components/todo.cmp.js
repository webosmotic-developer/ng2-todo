"use strict";var __decorate=this&&this.__decorate||function(e,t,o,s){var r,i=arguments.length,n=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,s);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(i<3?r(n):i>3?r(t,o,n):r(t,o))||n);return i>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),todo_service_1=require("../services/todo.service"),TodoCmp=function(){function e(e){this._todoService=e,this.title="Todo",this.todos=[],this.todoForm={todoMessage:""}}return e.prototype.ngOnInit=function(){this._fnGetAll()},e.prototype._fnGetAll=function(){var e=this;this._todoService.fnGetAll().subscribe(function(t){e.todos=t})},e.prototype.fnAdd=function(e){var t=this;this._todoService.fnAdd(e).subscribe(function(e){t.todos.push(e),t.todoForm.todoMessage=""})},e.prototype.fnUpdate=function(e){e.isReadOnly?(e.isProcess=!0,this._todoService.fnUpdate(e._id,e.todoMessage).subscribe(function(){e.isReadOnly=!e.isReadOnly,e.isProcess=!1})):e.isReadOnly=!e.isReadOnly},e.prototype.fnRemove=function(e){var t=this,o=confirm("Are you sure you want to delete this?");o&&this._todoService.fnRemove(e).subscribe(function(){t.todos.forEach(function(o,s){if(o._id===e)return t.todos.splice(s,1)})})},e=__decorate([core_1.Component({selector:"todo-cmp",templateUrl:"todo/templates/todo.html",styleUrls:["todo/styles/todo.css"]}),__metadata("design:paramtypes",[todo_service_1.TodoService])],e)}();exports.TodoCmp=TodoCmp;